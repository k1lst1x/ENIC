{% load static %}
{% load lang_tags %}

<header class="header">
    <div class="container header-container">
        <div class="logo">
            <a href="{% url 'home' %}" class="logo-link">{% tr "НЦ РВО" %}</a>
        </div>

        <!-- Десктопное меню -->
        <nav class="desktop-nav">
            <ul class="nav-list">
                <li><a href="{% url 'about' %}" class="nav-link">{% tr "О Центре" %}</a></li>
                <li><a href="{% url 'bologna' %}" class="nav-link">{% tr "Болонский процесс" %}</a></li>
                <li><a href="{% url 'publications' %}" class="nav-link">{% tr "Периодические издания" %}</a></li>
                <li><a href="{% url 'reference' %}" class="nav-link">{% tr "Справочная информация" %}</a></li>
                <li><a href="#" class="nav-link">{% tr "Реестр ОП" %}</a></li>
                <li><a href="#" class="nav-link">{% tr "Деятельность" %}</a></li>
                <!-- <li><a href="#" class="nav-link">{% tr "Вопрос-ответ" %}</a></li>
                <li><a href="#" class="nav-link">{% tr "Вакансии" %}</a></li> -->
            </ul>
        </nav>

        <!-- Языки + поиск -->
        <div class="header-actions">
            <div class="language-selector">
                <button class="language-button">{{ current_lang_code }}</button>
                <div class="language-dropdown">
                    <a href="/kk{{ current_path_without_lang }}" class="language-option">{% tr "KK" %}</a>
                    <a href="/ru{{ current_path_without_lang }}" class="language-option">{% tr "RU" %}</a>
                    <a href="/en{{ current_path_without_lang }}" class="language-option">{% tr "EN" %}</a>
                </div>
            </div>

            <button class="search-button" aria-label="{% tr 'Поиск' %}">
                <!-- icon -->
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                     stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="11" cy="11" r="8"></circle>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
            </button>
        </div>

        <!-- Мобильные кнопки -->
        <div class="mobile-menu-controls">
            <button class="search-button-mobile" aria-label="{% tr 'Поиск' %}">
                <!-- icon -->
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                     stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="11" cy="11" r="8"></circle>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
            </button>
            <button class="menu-toggle" aria-label="{% tr 'Меню' %}">
                <!-- icon -->
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                     stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="3" y1="12" x2="21" y2="12"></line>
                    <line x1="3" y1="6" x2="21" y2="6"></line>
                    <line x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
            </button>
        </div>
    </div>

    {# Поиск (скрыт по умолчанию) #}
    <div class="search-bar" id="searchBar">
        <div class="container">
            <div class="search-container">
                <form method="get" action="{% url 'search' %}" class="search-container">
                    <input type="search" name="q" placeholder="{% tr 'Поиск по сайту…' %}" class="search-input"
                           value="{{ request.GET.q }}">
                </form>
                <button class="search-close" aria-label="{% tr 'Закрыть' %}">
                    <!-- icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    {# Мобильное меню (скрыто по умолчанию) #}
    <div class="mobile-menu" id="mobileMenu">
        <div class="container">
            <nav class="mobile-nav">
                <ul class="mobile-nav-list">
                    <li><a href="{% url 'about' %}" class="mobile-nav-link">{% tr "О Центре" %}</a></li>
                    <li><a href="{% url 'bologna' %}" class="mobile-nav-link">{% tr "Болонский процесс" %}</a></li>
                    <li><a href="{% url 'publications' %}" class="mobile-nav-link">{% tr "Периодические издания" %}</a>
                    </li>
                    <li><a href="{% url 'reference' %}" class="mobile-nav-link">{% tr "Справочная информация" %}</a></li>
                    <li><a href="#" class="mobile-nav-link">{% tr "Реестр ОП" %}</a></li>
                    <li><a href="#" class="mobile-nav-link">{% tr "Деятельность" %}</a></li>
                    <li><a href="#" class="mobile-nav-link">{% tr "Вопрос-ответ" %}</a></li>
                    <li><a href="#" class="mobile-nav-link">{% tr "Вакансии" %}</a></li>
                </ul>
                <div class="mobile-language">
                    <button class="mobile-language-button">{% tr "RU" %}</button>
                    <div class="mobile-language-dropdown">
                        <a href="#" class="mobile-language-option">{% tr "KZ" %}</a>
                        <a href="#" class="mobile-language-option">{% tr "RU" %}</a>
                        <a href="#" class="mobile-language-option">{% tr "EN" %}</a>
                    </div>
                </div>
            </nav>
        </div>
    </div>
</header>
